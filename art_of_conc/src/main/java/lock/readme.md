锁是java中很常见的，但是对于线程回复时的地点可能会是一个需要注意点的地方，
为了避免运行条件的检测失效，必须在线程每次回复的时候再次检查条件，用while
而不是if。